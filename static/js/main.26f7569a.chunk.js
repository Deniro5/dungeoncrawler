(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);for(var o=n(0),r=n.n(o),a=n(4),m=n.n(a),s=n(5),i=n(6),c=n(8),l=n(7),u=n(9),h=n(1),d=n(2),f=[],g=function(){for(var e=[],t=0;t<50;){for(var n=0,o=[];n<100;)o.push({}),n++;e.push(o),t++}return e},b=g(),p=49;p>40;)b[1][p]={name:"wall"},b[10][p]={name:"wall"},b[14][p]={name:"wall"},b[18][p]={name:"wall"},b[20][p]={name:"wall"},b[24][p]={name:"wall"},p--;for(b[10][49]={},p=1;p<10;)b[p][41]={name:"wall"},b[p][33]={name:"wall"},b[p][10]={name:"wall"},p++;for(;p<25;)b[p][33]={name:"wall"},b[p][10]={name:"wall"},p++;b[0][10]={name:"wall"},b[5][10]={},b[10][25]={name:"chestclosed",item:"ammo"},b[16][49]={name:"chestclosed",item:"ammo"},b[22][49]={name:"chestclosed",item:"ammo"},b[0][5]={name:"chestclosed",item:"ammo"},b[5][45]={name:"chestclosed",item:"heart"},b[0][49]={name:"chestclosed",item:"key"},b[22][5]={name:"ladder",room:1,start:[12,48]},b[22][40]={name:"ladder",room:2,start:[20,45]},b[10][24]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[10][49]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[24][37]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:0,monsterDirection:180,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[5][10]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[0][33]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:180,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[1][0]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[17][0]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},b[16][34]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:0,monsterHit:!1,chasing:!1,timer:!1},f.push(b);var H=g();for(p=0;p<25;)H[p][10]={name:"wall"},H[p][35]={name:"wall"},p++;for(H[0][35]={},H[1][35]={},H[2][35]={},H[24][35]={},p=0;p<35;)H[8][p]={name:"wall"},H[16][p]={name:"wall"},p++;for(H[4][10]={},H[12][10]={},H[20][10]={},H[8][5]={},H[16][2]={},p=35;p<50;)H[1][p]={name:"wall"},H[23][p]={name:"wall"},p++;H[3][5]={name:"chestclosed",item:"ammo"},H[12][5]={name:"chestclosed",item:"heart"},H[21][5]={name:"chestclosed",item:"ammo"},H[3][22]={name:"chestclosed",item:"ammo"},H[12][22]={name:"chestclosed",item:"ammo"},H[21][22]={name:"chestclosed",item:"ammo"},H[0][49]={name:"chestclosed",item:"heart"},H[24][49]={name:"chestclosed",item:"key"},H[12][48]={name:"ladder",room:0,start:[22,5]},H[8][5]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:0,monsterDirection:180,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[16][2]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[9][24]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[2][42]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[24][35]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:180,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[4][10]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[12][10]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[20][10]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},H[0][35]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:180,monsterHealth:4,monsterRoom:1,monsterHit:!1,chasing:!1,timer:!1},f.push(H);var v=g();for(p=0;p<40;)v[5][p]={name:"wall"},p++;for(p=5;p<25;)v[p][10]={name:"wall"},v[p][20]={name:"wall"},v[p][40]={name:"wall"},p++;for(v[6][40]={},v[6][20]={},v[24][20]={},v[15][10]={},p=0;p<50;)v[0][p]={name:"doorwall"},p++;v[0][24]={name:"doorwall"},v[0][25]={name:"door"},v[0][26]={name:"doorwall"},v[1][1]={name:"chestclosed",item:"ammo"},v[3][1]={name:"chestclosed",item:"heart"},v[8][16]={name:"chestclosed",item:"ammo"},v[22][16]={name:"chestclosed",item:"ammo"},v[15][35]={name:"chestclosed",item:"ammo"},v[7][4]={name:"chestclosed",item:"key"},v[23][4]={name:"chestclosed",item:"ammo"},v[20][45]={name:"ladder",room:0,start:[22,40]},v[9][4]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[21][4]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:0,monsterDirection:180,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[24][16]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[6][16]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[2][5]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[1][42]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[15][30]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[15][10]={name:"monster",monsterStatus:["idle",0],monsterFrame:0,monsterDirection:0,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},v[1][20]={name:"monster",monsterStatus:["vertidle",0],monsterFrame:1,monsterDirection:180,monsterHealth:4,monsterRoom:2,monsterHit:!1,chasing:!1,timer:!1},f.push(v);var j=f,w=function(e){return r.a.createElement("div",{className:"gameInfoContainer"},r.a.createElement("div",{className:"infoDiv"},r.a.createElement("div",null,r.a.createElement("img",{alt:"hearts",src:"dungeonimg/heart.png"}),r.a.createElement("p",null," ",e.hearts," ")),r.a.createElement("div",null,r.a.createElement("img",{alt:"keys",src:"dungeonimg/key.png"}),r.a.createElement("p",null," ",e.keys," ")),r.a.createElement("div",null,r.a.createElement("img",{alt:"arrows",src:"dungeonimg/arrow.png"}),r.a.createElement("p",null," ",e.ammo," "))))},y=function(e){var t=Object(o.useState)(["vertidle",0]),n=Object(h.a)(t,2),a=n[0],m=n[1],s=Object(o.useState)(0),i=Object(h.a)(s,2),c=i[0],l=i[1],u=Object(o.useState)(90),f=Object(h.a)(u,2),g=f[0],b=f[1],p=e.board,H=e.playerPos,v=e.setPlayerPos,j=e.hearts,y=e.setHearts,O=e.alterBoard,S=e.hit,E=e.setHit,D=e.weaponPos,F=e.setWeaponPos,k=e.weaponDirection,R=e.setWeaponDirection,x=e.setRoom,P=e.resetGame,C=e.keys,M=e.setKeys,N=e.ammo,W=e.setAmmo;Object(o.useEffect)(function(){!0===S&&setTimeout(function(){E(!1)},1e3)},[S]),window.onkeydown=function(e){if(32===e.keyCode&&"monster"!==p[H[0]][H[1]].name)T();else if(e.keyCode>=37&&e.keyCode<=40){var t,n=!1,o=!1;37===e.keyCode?(t=[H[0],H[1]-1],b(180),n=!0):38===e.keyCode?(t=[H[0]-1,H[1]],b(270),o=!0):39===e.keyCode?(t=[H[0],H[1]+1],b(0),n=!0):40===e.keyCode&&(t=[H[0]+1,H[1]],b(90),o=!0),t[0]>=0&&t[0]<=24&&t[1]>=0&&t[1]<=49&&(0!==Object.keys(p[t[0]][t[1]]).length?"ladder"===p[t[0]][t[1]].name&&(v(p[t[0]][t[1]].start),x(p[t[0]][t[1]].room)):(v(t),Y(Object(d.a)(t)))),n?(l(c>=3?0:c+1),m(["run",3])):o&&(l(38===e.keyCode?0:1),m(["vertidle",1]))}};var T=function(){var e=H[1],t=H[0];if(0===g?e+=1:90===g?t+=1:180===g?e-=1:270===g&&(t-=1),e>=0&&t>=0&&"chestclosed"===p[t][e].name){var n=p[t][e].item;alert("You found "+("ammo"===n?"some arrows":"a "+n)),O(t,e,{name:"chestopen"}),"heart"===n?y(j+1):"key"===n?M(C+1):"ammo"===n&&W(N+10)}else e>=0&&t>=0&&"door"===p[t][e].name?3===C?(alert("Congrats. You Escaped!"),P()):alert("You need to collect all three keys to leave"):-1===D[0]&&N>0&&(R(g),W(N-1))},Y=function(e){for(var t=Math.max(-6,-1*e[0]);t<7;){for(var n=Math.max(-6,-1*e[1]);n<7;){if("monster"===p[e[0]+t][e[1]+n].name){var o=p[e[0]+t][e[1]+n];o.chasing=!0,O(e[0]+t,e[1]+n,o)}n++}t++}};Object(o.useEffect)(function(){-1!==k&&F([H[0],H[1]])},[k]),Object(o.useEffect)(function(){-1!==D[1]&&setTimeout(B,40)},[D]);var B=function(){if(-1!==k){var e=D[0],t=D[1];if(k%180===0?t+=0===k?1:-1:e+=90===k?1:-1,t>=0&&t<=49&&e>=0&&e<=24){if(0===Object.keys(p[e][t]).length)F([e,t]);else if(F([-1,-1]),R(-1),"monster"===p[e][t].name)if(p[e][t].monsterHealth<=1)O(e,t,{});else{var n=p[e][t];n.monsterHealth-=1,n.chasing=!0,n.monsterHit=!0,O(e,t,n)}}else F([-1,-1]),R(-1)}else F([-1,-1])};return r.a.createElement(o.Fragment,null,D[0]>-1&&r.a.createElement("img",{alt:"arrow",src:"img/arrow2.png",style:{top:20*D[0]+"px",left:20*D[1]+"px",transform:k%180===0?"rotateY("+k+"deg)":"rotateZ("+k+"deg)"},id:"weapon"}),r.a.createElement("img",{alt:"player",src:"img/"+a[0]+"/"+c+".png",id:"player",style:{opacity:S?.3:1,top:20*H[0]-20+"px",left:20*H[1]+"px",transform:g%180===0?"rotateY("+g+"deg)":""}}),r.a.createElement(w,{hearts:j,keys:C,ammo:N}))},O=function(e){var t=e.monsterDirection,n=e.monsterPos,a=e.monsterStatus,m=e.monsterFrame,s=e.chasing,i=e.playerPos,c=e.board,l=e.moveMonster,u=e.setMonsterTimer,h=e.timer,d=e.stopMonster,f=e.hitPlayer,g=e.weaponPos,b=e.setWeaponPos,p=e.setWeaponDirection,H=e.alterBoard,v=e.room,j=e.monsterRoom,w=e.monsterHit;Object(o.useEffect)(function(){if(n[0]===g[0]&&n[1]===g[1]){b([-1,-1]),p(-1);var e=c[n[0]][n[1]];e.monsterHealth<=1?e={}:e.monsterHealth-=1,H(n[0],n[1],e)}else s&&!h&&v===j&&(u(n[0],n[1]),setTimeout(function(){y()},200))},[n,s]),Object(o.useEffect)(function(){if(s){var e=Math.max(i[0]-n[0],-1*(i[0]-n[0])),t=Math.max(i[1]-n[1],-1*(i[1]-n[1]));if((e>15||t>15)&&!w)d(n[0],n[1]);else if(w&&e<=15&&t<=15){var o=c[n[0]][n[1]];0!==Object.keys(o).length&&(o.monsterHit=!1,H(n[0],n[1],o))}}},[i,n]);var y=function(){var e,t,o=Math.max(-1*(n[0]-i[0]),n[0]-i[0]),r=Math.max(-1*(n[1]-i[1]),n[1]-i[1]),a={};0!==o||0!==r?(o>=r?(e=(n[0]-i[0])/o,t=[n[0]-e,n[1]],a.monsterFrame=e>0?0:1,a.monsterStatus=["vertidle",1]):(e=(n[1]-i[1])/r,t=[n[0],n[1]-e],a.monsterDirection=e>0?180:0,a.monsterFrame=m>=3?0:m+1,a.monsterStatus=["run",3]),l([n[0],n[1]],t,a,c[n[0]][n[1]])):f([n[0],n[1]])};return r.a.createElement(o.Fragment,null,r.a.createElement("img",{alt:"monster",src:"monsterimg/"+a[0]+"/"+m+".png",className:"monster",style:{top:20*n[0]-12+"px",left:20*n[1]+"px",transform:t%180===0?"rotateY("+t+"deg)":""}}))},S=void 0,E=function(){var e=Object(o.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],m=Object(o.useState)([24,24]),s=Object(h.a)(m,2),i=s[0],c=s[1],l=Object(o.useState)(3),u=Object(h.a)(l,2),f=u[0],g=u[1],b=Object(o.useState)([-1,-1]),p=Object(h.a)(b,2),H=p[0],v=p[1],w=Object(o.useState)(-1),E=Object(h.a)(w,2),D=E[0],F=E[1],k=Object(o.useState)(!1),R=Object(h.a)(k,2),x=R[0],P=R[1],C=Object(o.useState)(0),M=Object(h.a)(C,2),N=M[0],W=M[1],T=Object(o.useState)(!1),Y=Object(h.a)(T,2),B=Y[0],G=Y[1],z=Object(o.useState)(!1),A=Object(h.a)(z,2),I=A[0],J=A[1],K=Object(o.useState)(0),Z=Object(h.a)(K,2),q=Z[0],L=Z[1],Q=Object(o.useState)(0),U=Object(h.a)(Q,2),V=U[0],X=U[1];Object(o.useEffect)(function(){B?(J(!0),setTimeout(function(){a(j[N]),J(!1)},200)):(a(j[N]),G(!0))},[N]);var $=function(e,t,o){var r=Object(d.a)(n);r[e][t]=o,a(r)},_=function(e,t){var o=Object(d.a)(n);o[e][t].timer=!0,a(o)},ee=function(e,t){var o=Object(d.a)(n);o[e][t].timer=!1,o[e][t].chasing=!1,a(o)},te=function(e,t,o,r){if(0===Object.keys(n[t[0]][t[1]]).length){var m=Object(d.a)(n);m[e[0]][e[1]]={},Object.keys(r).length>0?(m[t[0]][t[1]]=r,m[t[0]][t[1]].timer=!1,m[t[0]][t[1]].monsterDirection=o.monsterDirection,m[t[0]][t[1]].monsterFrame=o.monsterFrame,m[t[0]][t[1]].monsterStatus=o.monsterStatus):m[t[0]][t[1]]={},a(m)}else{var s=Object(d.a)(n);s[e[0]][e[1]].timer=!1,s[e[0]][e[1]].monsterFrame=0,a(s)}},ne=function(e){x||(f-1===0?(alert("Game over!"),oe()):(g(f-1),P(!0)));var t=Object(d.a)(n);t[e[0]][e[1]].timer=!1,a(t)},oe=function(){window.location.reload()};return r.a.createElement("div",{className:"boardContainer",style:{background:I?"black":""}},!I&&r.a.createElement(o.Fragment,null,n.map(function(e,t){return e.map(function(e,o){return Object.keys(e).length>0&&("monster"===e.name?r.a.createElement(O,Object.assign({},e,{monsterPos:[t,o],playerPos:i,board:n,moveMonster:te.bind(S),setMonsterTimer:_.bind(S),stopMonster:ee.bind(S),hitPlayer:ne.bind(S),weaponPos:H,setWeaponPos:v.bind(S),weaponDirection:D,setWeaponDirection:F.bind(S),alterBoard:$.bind(S),room:N})):r.a.createElement("img",{alt:e.name,className:"tile",src:"dungeonimg/"+e.name+".png",style:{top:20*t+"px",left:20*o+"px"}}))})}),r.a.createElement(y,{playerPos:i,setPlayerPos:c.bind(S),hearts:f,setHearts:g,board:n,alterBoard:$.bind(S),hit:x,setHit:P.bind(S),weaponPos:H,setWeaponPos:v.bind(S),weaponDirection:D,setWeaponDirection:F.bind(S),setRoom:W.bind(S),ammo:V,setAmmo:X.bind(S),keys:q,setKeys:L.bind(S),resetGame:function(){oe()}})))},D=function(e){return r.a.createElement("div",{className:"introContainer"},r.a.createElement("div",{className:"introTextContainer"},r.a.createElement("h2",{style:{marginTop:"5px"}}," Dungeon Crawler "),r.a.createElement("p",{style:{fontWeight:"bold",textAlign:"center"}}," How to Play: "),r.a.createElement("p",{style:{fontSize:"14px",lineHeight:"20px"}},"- Find the three keys hidden throughout the dungeon to escape!"),r.a.createElement("p",{style:{fontSize:"14px",lineHeight:"20px"}},"- Move the knight with the arrow keys."),r.a.createElement("p",{style:{fontSize:"14px",lineHeight:"20px"}},"- Shoot arrows/open chests with the space bar."),r.a.createElement("button",{onClick:e.start}," Start Game")))},F=function(e){var t=Object(o.useState)(!0),n=Object(h.a)(t,2),a=n[0],m=n[1];return r.a.createElement("div",{className:"homeContainer"},a?r.a.createElement(D,{start:function(){m(!1)}}):r.a.createElement(E,{end:function(){m(!0)}}))},k=(n(15),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(F,null))}}]),t}(o.Component));m.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.26f7569a.chunk.js.map